/*! Windows Blogs - v0.0.1
 * http://10up.com
 * Copyright (c) 2016; * Licensed GPLv2+ */
wp.media&&(wp.media.view.EmbedLink.prototype=_.extend(wp.media.view.EmbedLink.prototype,{template:wp.template("embed-link-settings-override"),events:{click:"setAgeGate",change:"setAgeGate"},setAgeGate:function(a){var b=document.getElementById("age-gate");this.model.set("agegate",b.checked)}}),wp.media.editor.send=_.extend(wp.media.editor.send,{link:function(a){return document.getElementById("age-gate").checked=!1,wp.media.post("send-link-to-editor",{nonce:wp.media.view.settings.nonce.sendToEditor,src:a.linkUrl,link_text:a.linkText,age_gate:a.agegate,html:wp.media.string.link(a),post_id:wp.media.view.settings.post.id})}}),wp.mce.views.register("embed",_.extend(wp.mce.views.get("embed").prototype,{edit:function(a,b){var c=wp.media.embed.edit(a,this.url),d=this;this.pausePlayers(),c.on("open",function(){var a="true"===c.state("embed").metadata.agegate;document.getElementById("age-gate").checked=a}),c.state("embed").props.on("change:url",function(a,b){b&&a.get("url")&&(c.state("embed").metadata=a.toJSON())}),c.state("embed").props.on("change:agegate",function(a,b){c.state("embed").metadata=a.toJSON()}),c.state("embed").on("select",function(){var a=c.state("embed").metadata;b(d.url?a.url:wp.media.embed.shortcode(a).string())}),c.on("close",function(){c.detach()}),c.open()}})),wp.mce.views.register("embedURL",_.extend(wp.mce.views.get("embedURL").prototype,{edit:function(a,b){var c=wp.media.embed.edit(a,this.url);this.pausePlayers(),c.state("embed").props.on("change:url",function(a,b){b&&a.get("url")&&(c.state("embed").metadata=a.toJSON())}),c.state("embed").props.on("change:agegate",function(a,b){c.state("embed").metadata=a.toJSON()}),c.state("embed").on("select",function(){var a=c.state("embed").metadata;b(wp.media.embed.shortcode(a).string())}),c.on("close",function(){c.detach()}),c.open()}}))),function(a,b){"use strict";var c=b(document.getElementById("wb_feature_post")),d=b(document.getElementById("wb_featured_align_setting"));c.on("change",function(){b(this).is(":checked")?d.removeClass("hidden"):d.addClass("hidden")})}(this,jQuery);